# yaml-language-server: $schema=https://github.com/dfinity/icp-cli/raw/refs/tags/v0.1.0-beta.2/docs/schemas/icp-yaml-schema.json

canisters:
  - name: sender
    build:
      steps:
        - type: script
          commands:
            - command -v mops >/dev/null 2>&1 || { echo >&2 "'mops' not found on path. To install Mops, see https://mops.one/docs/install.\n"; exit 1; }
            - $(mops toolchain bin moc) src/sender.mo $(mops sources) -o "$ICP_WASM_OUTPUT_PATH"          

  - name: receiver
    build:
      steps:
        - type: script
          commands:
            - command -v mops >/dev/null 2>&1 || { echo >&2 "'mops' not found on path. To install Mops, see https://mops.one/docs/install.\n"; exit 1; }
            - $(mops toolchain bin moc) src/receiver.mo $(mops sources) -o "$ICP_WASM_OUTPUT_PATH"          
